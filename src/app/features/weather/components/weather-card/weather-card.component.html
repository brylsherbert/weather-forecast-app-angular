@if (loading()) {
  <div class="flex items-center justify-center p-8">
    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"></div>
  </div>
}

@if (error() && !loading()) {
  <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-800 dark:text-red-300">
    <p class="font-medium">Error loading weather data</p>
    <p class="text-sm">{{ error() }}</p>
  </div>
}

@if (currentWeather() && !loading() && !error()) {
  <div class="bg-linear-to-br from-blue-500 to-blue-700 rounded-2xl shadow-xl p-6 text-white">
    <!-- Location -->
    <div class="mb-6">
      <h2 class="text-2xl font-bold">{{ currentLocation()?.name }}</h2>
      <p class="text-blue-100">{{ currentLocation()?.region }}, {{ currentLocation()?.country }}</p>
      <p class="text-sm text-blue-200">{{ currentLocation()?.localtime }}</p>
    </div>

    <!-- Main Weather Info -->
    <div class="flex items-center justify-between mb-6">
      <div>
        <div class="text-6xl font-light mb-2">{{ temperature() }}°</div>
        <div class="text-xl text-blue-100">{{ condition() }}</div>
        <div class="text-sm text-blue-200 mt-1">Feels like {{ feelsLike() }}°</div>
      </div>
      @if (conditionIcon()) {
        <img
          [src]="conditionIcon()"
          [alt]="condition()"
          class="w-24 h-24"
        />
      }
    </div>

    <!-- Weather Details Grid -->
    <div class="grid grid-cols-2 gap-4 pt-6 border-t border-blue-400/30">
      <div class="flex items-center space-x-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z" />
        </svg>
        <div>
          <div class="text-sm text-blue-200">Humidity</div>
          <div class="font-semibold">{{ humidity() }}%</div>
        </div>
      </div>

      <div class="flex items-center space-x-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
        </svg>
        <div>
          <div class="text-sm text-blue-200">Wind</div>
          <div class="font-semibold">{{ windSpeed() }} km/h</div>
        </div>
      </div>

      <div class="flex items-center space-x-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
        </svg>
        <div>
          <div class="text-sm text-blue-200">Pressure</div>
          <div class="font-semibold">{{ pressure() }} mb</div>
        </div>
      </div>

      <div class="flex items-center space-x-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg>
        <div>
          <div class="text-sm text-blue-200">UV Index</div>
          <div class="font-semibold">{{ uv() }}</div>
        </div>
      </div>
    </div>
  </div>
}
